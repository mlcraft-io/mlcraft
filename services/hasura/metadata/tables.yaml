- table:
    name: accounts
    schema: public
  object_relationships:
    - name: user
      using:
        foreign_key_constraint_on: user_id
- table:
    name: alerts
    schema: public
  object_relationships:
    - name: exploration
      using:
        foreign_key_constraint_on: exploration_id
    - name: team
      using:
        foreign_key_constraint_on: team_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        set:
          user_id: x-hasura-user-id
        columns:
          - delivery_config
          - delivery_type
          - exploration_id
          - id
          - name
          - schedule
          - team_id
          - trigger_config
          - user_id
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - delivery_config
          - delivery_type
          - exploration_id
          - id
          - name
          - schedule
          - team_id
          - trigger_config
          - updated_at
          - user_id
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - delivery_config
          - delivery_type
          - exploration_id
          - name
          - schedule
          - trigger_config
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  event_triggers:
    - name: create_cron_task_by_alert
      definition:
        enable_manual: true
        insert:
          columns: '*'
        update:
          columns:
            - delivery_config
            - delivery_type
            - exploration_id
            - trigger_config
            - schedule
      retry_conf:
        interval_sec: 10
        num_retries: 3
        timeout_sec: 60
      webhook: '{{ACTIONS_URL}}/rpc/create_cron_task_by_alert'
      cleanup_config:
        batch_size: 10000
        clean_invocation_logs: false
        clear_older_than: 168
        paused: true
        schedule: 0 0 * * *
        timeout: 60
    - name: delete_cron_task_by_alert
      definition:
        delete:
          columns: '*'
        enable_manual: true
      retry_conf:
        interval_sec: 10
        num_retries: 3
        timeout_sec: 60
      webhook: '{{ACTIONS_URL}}/rpc/delete_cron_task_by_alert'
      cleanup_config:
        batch_size: 10000
        clean_invocation_logs: false
        clear_older_than: 168
        paused: true
        schedule: 0 0 * * *
        timeout: 60
- table:
    name: branch_statuses
    schema: public
  is_enum: true
- table:
    name: branches
    schema: public
  object_relationships:
    - name: branch_status
      using:
        foreign_key_constraint_on: status
    - name: datasource
      using:
        foreign_key_constraint_on: datasource_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  array_relationships:
    - name: versions
      using:
        foreign_key_constraint_on:
          column: branch_id
          table:
            name: versions
            schema: public
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - datasource:
                user_id:
                  _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        columns:
          - datasource_id
          - name
          - status
          - user_id
  select_permissions:
    - role: user
      permission:
        columns:
          - name
          - status
          - created_at
          - updated_at
          - datasource_id
          - id
          - user_id
        filter:
          _or:
            - datasource:
                user_id:
                  _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - name
          - status
        filter:
          _or:
            - datasource:
                user_id:
                  _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        check: null
- table:
    name: dashboards
    schema: public
  object_relationships:
    - name: team
      using:
        foreign_key_constraint_on: team_id
  array_relationships:
    - name: pinned_items
      using:
        foreign_key_constraint_on:
          column: dashboard_id
          table:
            name: pinned_items
            schema: public
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        set:
          user_id: x-hasura-user-id
        columns:
          - name
          - team_id
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - id
          - layout
          - name
          - team_id
          - updated_at
          - user_id
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - layout
          - name
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
- table:
    name: dataschemas
    schema: public
  object_relationships:
    - name: datasource
      using:
        foreign_key_constraint_on: datasource_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
    - name: version
      using:
        foreign_key_constraint_on: version_id
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - version:
                branch:
                  datasource:
                    user_id:
                      _eq: X-Hasura-User-Id
            - version:
                branch:
                  datasource:
                    team:
                      members:
                        user_id:
                          _eq: X-Hasura-User-Id
        columns:
          - code
          - datasource_id
          - name
          - user_id
          - version_id
  select_permissions:
    - role: user
      permission:
        columns:
          - checksum
          - code
          - created_at
          - datasource_id
          - id
          - name
          - updated_at
          - user_id
          - version_id
        filter:
          _or:
            - version:
                branch:
                  datasource:
                    user_id:
                      _eq: X-Hasura-User-Id
            - version:
                branch:
                  datasource:
                    team:
                      members:
                        user_id:
                          _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - code
          - name
        filter:
          _or:
            - version:
                branch:
                  datasource:
                    user_id:
                      _eq: X-Hasura-User-Id
            - version:
                branch:
                  datasource:
                    team:
                      members:
                        user_id:
                          _eq: X-Hasura-User-Id
        check:
          _or:
            - version:
                branch:
                  datasource:
                    user_id:
                      _eq: X-Hasura-User-Id
            - version:
                branch:
                  datasource:
                    team:
                      members:
                        user_id:
                          _eq: X-Hasura-User-Id
- table:
    name: datasources
    schema: public
  object_relationships:
    - name: team
      using:
        foreign_key_constraint_on: team_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  array_relationships:
    - name: branches
      using:
        foreign_key_constraint_on:
          column: datasource_id
          table:
            name: branches
            schema: public
    - name: dataschemas
      using:
        foreign_key_constraint_on:
          column: datasource_id
          table:
            name: dataschemas
            schema: public
    - name: explorations
      using:
        foreign_key_constraint_on:
          column: datasource_id
          table:
            name: explorations
            schema: public
    - name: sql_credentials
      using:
        foreign_key_constraint_on:
          column: datasource_id
          table:
            name: sql_credentials
            schema: public
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        set:
          user_id: x-hasura-user-id
        columns:
          - db_params
          - db_type
          - name
          - team_id
          - user_id
  select_permissions:
    - role: user
      permission:
        columns:
          - db_params
          - db_type
          - name
          - created_at
          - updated_at
          - id
          - team_id
          - user_id
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - db_params
          - db_type
          - name
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  event_triggers:
    - name: recalculate_dataschemas
      definition:
        enable_manual: true
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{ACTIONS_URL}}/rpc/recalculate_dataschemas'
      cleanup_config:
        batch_size: 10000
        clean_invocation_logs: false
        clear_older_than: 168
        paused: true
        schedule: 0 0 * * *
        timeout: 60
- table:
    name: events
    schema: public
  insert_permissions:
    - role: anonymous
      permission:
        check: {}
        columns:
          - data
          - device_context
          - page_context
          - user
- table:
    name: explorations
    schema: public
  object_relationships:
    - name: datasource
      using:
        foreign_key_constraint_on: datasource_id
  array_relationships:
    - name: alerts
      using:
        foreign_key_constraint_on:
          column: exploration_id
          table:
            name: alerts
            schema: public
    - name: pinned_items
      using:
        foreign_key_constraint_on:
          column: exploration_id
          table:
            name: pinned_items
            schema: public
    - name: reports
      using:
        foreign_key_constraint_on:
          column: exploration_id
          table:
            name: reports
            schema: public
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - datasource:
                user_id:
                  _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        set:
          user_id: x-hasura-user-id
        columns:
          - datasource_id
          - playground_settings
          - playground_state
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - datasource_id
          - id
          - playground_settings
          - playground_state
          - updated_at
          - user_id
        filter:
          _or:
            - datasource:
                user_id:
                  _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
- table:
    name: member_roles
    schema: public
  object_relationships:
    - name: member
      using:
        foreign_key_constraint_on: member_id
    - name: teamRoleByTeamRole
      using:
        foreign_key_constraint_on: team_role
  insert_permissions:
    - role: user
      permission:
        check:
          member:
            team:
              members:
                _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - member_roles:
                      team_role:
                        _eq: owner
        columns:
          - id
          - member_id
          - team_role
  select_permissions:
    - role: user
      permission:
        columns:
          - team_role
          - id
          - member_id
        filter:
          member:
            team:
              members:
                user_id:
                  _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          member:
            team:
              members:
                _and:
                  - user_id:
                      _eq: X-Hasura-User-Id
                  - member_roles:
                      team_role:
                        _eq: owner
- table:
    name: members
    schema: public
  object_relationships:
    - name: team
      using:
        foreign_key_constraint_on: team_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  array_relationships:
    - name: member_roles
      using:
        foreign_key_constraint_on:
          column: member_id
          table:
            name: member_roles
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - id
          - team_id
          - updated_at
          - user_id
        filter:
          team:
            members:
              user_id:
                _eq: X-Hasura-User-Id
        allow_aggregations: true
  delete_permissions:
    - role: user
      permission:
        filter:
          team:
            members:
              _and:
                - user_id:
                    _eq: X-Hasura-User-Id
                - member_roles:
                    team_role:
                      _eq: owner
- table:
    name: pinned_items
    schema: public
  object_relationships:
    - name: dashboard
      using:
        foreign_key_constraint_on: dashboard_id
    - name: exploration
      using:
        foreign_key_constraint_on: exploration_id
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - dashboard:
                user_id:
                  _eq: X-Hasura-User-Id
            - dashboard:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        set:
          user_id: x-hasura-user-id
        columns:
          - dashboard_id
          - exploration_id
          - name
          - spec
          - spec_config
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - user_id
          - dashboard_id
          - exploration_id
          - name
          - spec
          - spec_config
        filter:
          _or:
            - dashboard:
                user_id:
                  _eq: X-Hasura-User-Id
            - dashboard:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - name
          - spec
          - spec_config
        filter:
          _or:
            - dashboard:
                user_id:
                  _eq: X-Hasura-User-Id
            - dashboard:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        check:
          _or:
            - dashboard:
                user_id:
                  _eq: X-Hasura-User-Id
            - dashboard:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          _or:
            - dashboard:
                user_id:
                  _eq: X-Hasura-User-Id
            - dashboard:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
- table:
    name: reports
    schema: public
  object_relationships:
    - name: exploration
      using:
        foreign_key_constraint_on: exploration_id
    - name: team
      using:
        foreign_key_constraint_on: team_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        set:
          user_id: x-hasura-user-id
        columns:
          - delivery_config
          - delivery_type
          - exploration_id
          - id
          - name
          - schedule
          - team_id
          - user_id
  select_permissions:
    - role: user
      permission:
        columns:
          - delivery_config
          - delivery_type
          - name
          - schedule
          - created_at
          - updated_at
          - exploration_id
          - id
          - team_id
          - user_id
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - delivery_config
          - delivery_type
          - exploration_id
          - name
          - schedule
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - team:
                members:
                  user_id:
                    _eq: X-Hasura-User-Id
  event_triggers:
    - name: create_cron_task_by_report
      definition:
        enable_manual: true
        insert:
          columns: '*'
        update:
          columns:
            - delivery_config
            - exploration_id
            - schedule
            - delivery_type
      retry_conf:
        interval_sec: 10
        num_retries: 3
        timeout_sec: 60
      webhook: '{{ACTIONS_URL}}/rpc/create_cron_task_by_alert'
      cleanup_config:
        batch_size: 10000
        clean_invocation_logs: false
        clear_older_than: 168
        paused: true
        schedule: 0 0 * * *
        timeout: 60
    - name: delete_cron_task_by_report
      definition:
        delete:
          columns: '*'
        enable_manual: true
      retry_conf:
        interval_sec: 10
        num_retries: 3
        timeout_sec: 60
      webhook: '{{ACTIONS_URL}}/rpc/delete_cron_task_by_alert'
      cleanup_config:
        batch_size: 10000
        clean_invocation_logs: false
        clear_older_than: 168
        paused: true
        schedule: 0 0 * * *
        timeout: 60
- table:
    name: sql_credentials
    schema: public
  object_relationships:
    - name: datasource
      using:
        foreign_key_constraint_on: datasource_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        columns:
          - datasource_id
          - password
          - user_id
          - username
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - datasource_id
          - id
          - updated_at
          - user_id
          - username
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
  delete_permissions:
    - role: user
      permission:
        filter:
          _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - datasource:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
- table:
    name: team_roles
    schema: public
  is_enum: true
  array_relationships:
    - name: member_roles
      using:
        foreign_key_constraint_on:
          column: team_role
          table:
            name: member_roles
            schema: public
- table:
    name: teams
    schema: public
  array_relationships:
    - name: alerts
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: alerts
            schema: public
    - name: dashboards
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: dashboards
            schema: public
    - name: datasources
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: datasources
            schema: public
    - name: members
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: members
            schema: public
    - name: reports
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: reports
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - id
          - name
          - updated_at
        filter:
          members:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - name
        filter:
          members:
            _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - member_roles:
                  team_role:
                    _eq: owner
        check:
          members:
            _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - member_roles:
                  team_role:
                    _eq: owner
  delete_permissions:
    - role: user
      permission:
        filter:
          members:
            _and:
              - user_id:
                  _eq: X-Hasura-User-Id
              - member_roles:
                  team_role:
                    _eq: owner
- table:
    name: users
    schema: public
  array_relationships:
    - name: accounts
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: accounts
            schema: public
    - name: alerts
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: alerts
            schema: public
    - name: branches
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: branches
            schema: public
    - name: dataschemas
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: dataschemas
            schema: public
    - name: datasources
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: datasources
            schema: public
    - name: members
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: members
            schema: public
    - name: reports
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: reports
            schema: public
    - name: versions
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: versions
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - display_name
          - avatar_url
        filter:
          _or:
            - id:
                _eq: X-Hasura-User-Id
            - members:
                team:
                  members:
                    user_id:
                      _eq: X-Hasura-User-Id
- table:
    name: versions
    schema: public
  object_relationships:
    - name: branch
      using:
        foreign_key_constraint_on: branch_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  array_relationships:
    - name: dataschemas
      using:
        foreign_key_constraint_on:
          column: version_id
          table:
            name: dataschemas
            schema: public
  insert_permissions:
    - role: user
      permission:
        check:
          _or:
            - branch:
                datasource:
                  user_id:
                    _eq: X-Hasura-User-Id
            - branch:
                datasource:
                  team:
                    members:
                      user_id:
                        _eq: X-Hasura-User-Id
        columns:
          - branch_id
          - checksum
          - user_id
  select_permissions:
    - role: user
      permission:
        columns:
          - branch_id
          - checksum
          - created_at
          - id
          - markdown_doc
          - updated_at
          - user_id
        filter:
          _or:
            - branch:
                datasource:
                  user_id:
                    _eq: X-Hasura-User-Id
            - branch:
                datasource:
                  team:
                    members:
                      user_id:
                        _eq: X-Hasura-User-Id
        allow_aggregations: true
  event_triggers:
    - name: generate_dataschemas_docs
      definition:
        enable_manual: true
        insert:
          columns: '*'
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{ACTIONS_URL}}/rpc/gen_schemas_docs'
      cleanup_config:
        batch_size: 10000
        clean_invocation_logs: false
        clear_older_than: 168
        paused: true
        schedule: 0 0 * * *
        timeout: 60
- table:
    name: all_auth_recipe_users
    schema: supertokens
  object_relationships:
    - name: userid_mapping
      using:
        foreign_key_constraint_on:
          column: supertokens_user_id
          table:
            name: userid_mapping
            schema: supertokens
  event_triggers:
    - name: add_account
      definition:
        enable_manual: true
        insert:
          columns: '*'
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{AUTH_SERVICE_URL}}/webhooks/addAccount'
- table:
    name: dashboard_user_sessions
    schema: supertokens
  object_relationships:
    - name: dashboard_user
      using:
        foreign_key_constraint_on: user_id
- table:
    name: dashboard_users
    schema: supertokens
  array_relationships:
    - name: dashboard_user_sessions
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: dashboard_user_sessions
            schema: supertokens
- table:
    name: emailpassword_pswd_reset_tokens
    schema: supertokens
  object_relationships:
    - name: emailpassword_user
      using:
        foreign_key_constraint_on: user_id
- table:
    name: emailpassword_users
    schema: supertokens
  array_relationships:
    - name: emailpassword_pswd_reset_tokens
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: emailpassword_pswd_reset_tokens
            schema: supertokens
- table:
    name: emailverification_tokens
    schema: supertokens
- table:
    name: emailverification_verified_emails
    schema: supertokens
- table:
    name: jwt_signing_keys
    schema: supertokens
- table:
    name: key_value
    schema: supertokens
- table:
    name: passwordless_codes
    schema: supertokens
  object_relationships:
    - name: passwordless_device
      using:
        foreign_key_constraint_on: device_id_hash
- table:
    name: passwordless_devices
    schema: supertokens
  array_relationships:
    - name: passwordless_codes
      using:
        foreign_key_constraint_on:
          column: device_id_hash
          table:
            name: passwordless_codes
            schema: supertokens
- table:
    name: passwordless_users
    schema: supertokens
- table:
    name: role_permissions
    schema: supertokens
  object_relationships:
    - name: roleByRole
      using:
        foreign_key_constraint_on: role
- table:
    name: roles
    schema: supertokens
  array_relationships:
    - name: role_permissions
      using:
        foreign_key_constraint_on:
          column: role
          table:
            name: role_permissions
            schema: supertokens
    - name: user_roles
      using:
        foreign_key_constraint_on:
          column: role
          table:
            name: user_roles
            schema: supertokens
- table:
    name: session_access_token_signing_keys
    schema: supertokens
- table:
    name: session_info
    schema: supertokens
- table:
    name: thirdparty_users
    schema: supertokens
- table:
    name: totp_used_codes
    schema: supertokens
  object_relationships:
    - name: totp_user
      using:
        foreign_key_constraint_on: user_id
- table:
    name: totp_user_devices
    schema: supertokens
  object_relationships:
    - name: totp_user
      using:
        foreign_key_constraint_on: user_id
- table:
    name: totp_users
    schema: supertokens
  array_relationships:
    - name: totp_used_codes
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: totp_used_codes
            schema: supertokens
    - name: totp_user_devices
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            name: totp_user_devices
            schema: supertokens
- table:
    name: user_last_active
    schema: supertokens
- table:
    name: user_metadata
    schema: supertokens
- table:
    name: user_roles
    schema: supertokens
  object_relationships:
    - name: roleByRole
      using:
        foreign_key_constraint_on: role
- table:
    name: userid_mapping
    schema: supertokens
  object_relationships:
    - name: all_auth_recipe_user
      using:
        foreign_key_constraint_on: supertokens_user_id
